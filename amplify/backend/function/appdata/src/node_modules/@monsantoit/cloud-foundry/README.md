# Cloud Foundry Utilities

Returns the service bindings in the current app.

## Installation

``` shell
npm install --save @monsantoit/cloud-foundry
```

## Example

Suppose the VCAP_SERVICES environment variable is a JSON string:

``` json
{
  "user-provided": [
   {
    "credentials": {
     "alias": "foo",
     "host": "http://some.host",
     "port": "4242",
     "my-secret-thing": "secret"
    },
    "label": "user-provided",
    "name": "some-foo",
    "syslog_drain_url": "",
    "tags": []
   }
  ]
}
```

You can get settings like so:

``` javascript
import {services} from '@monsantoit/cloud-foundry'
console.log(JSON.stringify(services))
// {"foo":{"alias":"foo","host":"http://some.host","port":"4242","my-secret-thing":"secret"}}
```  

Furthermore, you can avoid logging secrets by using [mask-json](https://www.npmjs.com/package/mask-json) like so:

``` javascript
import maskJson from 'mask-json')
const maskMySecretThing = maskJson(['my-secret-thing'])
console.log(JSON.stringify(maskMySecretThing(services)))
// {"foo":{"alias":"foo","host":"http://some.host","port":"4242","my-secret-thing":"--REDACTED--"}}
```  

## Release Notes

+ version 3.0.0 - no longer console log all the user provided services

