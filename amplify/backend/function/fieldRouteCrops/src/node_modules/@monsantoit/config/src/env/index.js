const _ = require('lodash')

const toList = (...oneOrMany) =>
    _.flatten(oneOrMany).map((item) => (_.isString(item) ? process.env.NODE_ENV === item : item))

const helpers = {
    get inProduction() {
        return process.env.NODE_ENV === 'production'
    },
    get inTest() {
        return process.env.NODE_ENV === 'test'
    },
    get inDevelopment() {
        return process.env.NODE_ENV === 'development'
    },
    get inIntegrationTest() {
        return process.env.NODE_ENV === 'integration-test'
    },
    any(...list) {
        return toList(list).some(Boolean)
    },
    not(...list) {
        return !helpers.any(...list)
    },
    all(...list) {
        return toList(list).every(Boolean)
    }
}

module.exports = helpers
