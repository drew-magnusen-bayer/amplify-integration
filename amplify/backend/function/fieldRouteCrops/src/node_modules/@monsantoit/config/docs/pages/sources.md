# Sources

The following sources are provided out of the box.

## source.fromJS
Requires a `.js` file, exporting an object, to be merged in to the config.
**Note:** You'll need to resolve the path yourself.

``` js
source.fromJS({ src: path.resolve(__dirname, './path/to/file.js') })
```

Example JS config file:
``` js
module.exports = {
    someKey: {
        someValue: true
    },
    someOtherKey: {
        someOtherValue: false
    }
}
```

You can use as many js sources as you want. Keys from all sources will be deeply merged, with later valures overriding earlier values.

Here's an example of multiple config files, which uses environment-specific overrides, and then user-specific overrides.

``` js
[
    source.fromFile({ src: path.resolve(__dirname, './path/to/default.config.js') }),
    source.fromFile({ src: path.resolve(__dirname, `./path/to/${process.env.NODE_ENV}.config.js`) }),
    source.fromFile({ src: path.resolve(__dirname, `./path/to/${process.env.USER}.config.js`) })
]
```

## source.fromFile
Reads a file to be merged in as config. Currently supports `.json` and `.yml` files, detecting the mimetype by the file's extension.

It takes the path as given, you'll need to resolve the path yourself.

``` js
source.fromFile({ src: path.resolve(__dirname, './path/to/file.json') })
```

You can use as many file sources as you want. Keys will be deeply merged, from first to last.
Here's an example with a default config file, which then uses environment-specific overrides.

``` js
[
    source.fromFile({ src: path.resolve(__dirname, './path/to/default.config.json') }),
    source.fromFile({ src: path.resolve(__dirname, `./path/to/${process.env.NODE_ENV}.config.json`) })
]
```

## source.fromCloudFoundry
reads the VCAP_SERVICES environment variable, parses the JSON, and uses the binding's alias as the key.

Uses `@monsantoit/cloud-foundry` under the covers.

``` js
source.fromCloudFoundry()
```

## source.fromEnvironment
reads a key from the environment, and merges it in under an alias

``` js
source.fromEnvironment({env: 'NODE_ENV', alias: 'nodeEnv' })
```

optionally, if the env string is valid json, it can parse it into an object if requested

```js
source.fromEnvironment({env: 'ENV_OBJ', alias: 'myObj', json: true })
```

## source.fromParameterStore
> Not yet implemented.
